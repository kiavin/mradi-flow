import{ap as h,ac as _,aq as g,af as i,ag as c,ar as B,a3 as y,a4 as w,a5 as b,a7 as x,ah as D}from"./index-D1I3Qs5p.js";import{_ as P}from"./form-Cftosmy_.js";import"./BaseInput-jaMbaEvX.js";/* empty css                                                                  */import"./BaseButton-CpE6Hhgi.js";import"./BaseLabel-B_DzeElG.js";const R={class:"card p-3"},A={__name:"update",setup(U){const{proxy:m}=h(),d=_(),s=`/v1/iam/rbac/role/${g().params.id}`,{data:t,isLoading:p}=i(s,{method:"GET"}),o=c({}),r=c({});B(t,()=>{t.value&&(o.value=t.value.dataPayload.data||{})});const f=async u=>{var l,n;const{data:a,request:v,error:e}=i(s,{method:"PUT"});await v(u),e.value&&(console.log("Error",e.value),r.value=e.value),!e.value&&(m.$showAlert({title:"Success",icon:"success",text:((n=(l=a.value)==null?void 0:l.alertifyPayload)==null?void 0:n.message)??"Role Updated successfully",showConfirmButton:!1,showCancelButton:!1,draggable:!0,timer:2e3,timerProgressBar:!0}),setTimeout(()=>{d.push({name:"iam/roles"})},2e3))};return(u,a)=>(w(),y("div",R,[a[0]||(a[0]=b("h1",{class:"h4 mt-2"},"Update Role",-1)),x(P,{formData:o.value,error:r.value,isLoading:D(p),onSubmit:f},null,8,["formData","error","isLoading"])]))}};export{A as default};
