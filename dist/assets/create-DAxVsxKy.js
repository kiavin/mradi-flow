import{a3 as o,a4 as r,a5 as b,a6 as m,a7 as s,a8 as c,a9 as f,aa as w,ab as L,ac as B,ad as U,ae as C,af as F,ag as x,ah as k}from"./index-Dy2EIsZD.js";import{I as v}from"./BaseInput-rONc3n8o.js";import{_ as T}from"./BaseButton-BNw7qnGX.js";import{L as S}from"./BaseLabel-CHDZiEDa.js";/* empty css                                                                  */const A={class:"mb-2 form-group"},$={key:0,class:"text-danger"},j={class:"mb-2 form-group"},I={key:0,class:"text-danger"},O={class:"mb-2 form-group"},R={key:0,class:"text-danger"},q={key:0,class:"text-center mt-3"},E={__name:"form",props:{formData:Object,error:Object,isLoading:Boolean,readonly:{type:Boolean,default:!1},hideSubmit:{type:Boolean,default:!1},onSubmit:Function},emits:["submit","update"],setup(e,{emit:P}){const y=e,g=P,l=()=>{g("submit",y.formData)};return(V,a)=>{var d,i,u;return r(),o("form",{onSubmit:L(l,["prevent"]),class:"row g-3"},[b("div",A,[s(S,{labelFor:"currentPassword"},{default:c(()=>a[3]||(a[3]=[f(" Current Password ")])),_:1}),s(v,{id:"currentPassword",type:"password",modelValue:e.formData.currentPassword,"onUpdate:modelValue":a[0]||(a[0]=t=>e.formData.currentPassword=t),disabled:e.readonly},null,8,["modelValue","disabled"]),(d=e.error)!=null&&d.currentPassword?(r(),o("p",$,w(e.error.currentPassword),1)):m("",!0)]),b("div",j,[s(S,{labelFor:"newPassword"},{default:c(()=>a[4]||(a[4]=[f(" New Password ")])),_:1}),s(v,{id:"newPassword",type:"password",modelValue:e.formData.newPassword,"onUpdate:modelValue":a[1]||(a[1]=t=>e.formData.newPassword=t),disabled:e.readonly},null,8,["modelValue","disabled"]),(i=e.error)!=null&&i.newPassword?(r(),o("p",I,w(e.error.newPassword),1)):m("",!0)]),b("div",O,[s(S,{labelFor:"confirmNewPassword"},{default:c(()=>a[5]||(a[5]=[f(" Confirm New Password ")])),_:1}),s(v,{id:"confirmNewPassword",type:"password",modelValue:e.formData.confirmNewPassword,"onUpdate:modelValue":a[2]||(a[2]=t=>e.formData.confirmNewPassword=t),disabled:e.readonly},null,8,["modelValue","disabled"]),(u=e.error)!=null&&u.confirmNewPassword?(r(),o("p",R,w(e.error.confirmNewPassword),1)):m("",!0)]),e.hideSubmit?m("",!0):(r(),o("div",q,[s(T,{type:"submit",customClass:"btn btn-success d-inline-block",disabled:e.isLoading},{default:c(()=>[f(w(e.isLoading?"Submitting...":"Save"),1)]),_:1},8,["disabled"])]))],32)}}},M={class:"card p-3"},z="/v1/iam/auth/change-password",W={__name:"create",setup(e){const P=B(),y=U(),g=C(),{data:l,request:V,isLoading:a,error:d}=F(z,{method:"PUT"}),i=x({}),u=async t=>{var h,D,N,p;const n=x("");await V(t),!d.value&&(n.value=(N=(D=(h=l.value)==null?void 0:h.alertifyPayload)==null?void 0:D.type)==null?void 0:N.route,g.removeToken(),y.show({message:(p=l.value)==null?void 0:p.alertifyPayload.type.message,theme:"success"}),setTimeout(()=>{P.push({name:n.value})},2e3))};return(t,n)=>(r(),o("div",M,[n[0]||(n[0]=b("h1",{class:"h4 mt-2"},"Update Password",-1)),s(E,{formData:i.value,error:k(d),isLoading:k(a),onSubmit:u},null,8,["formData","error","isLoading"])]))}};export{W as default};
