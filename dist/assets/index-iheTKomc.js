import{ai as j,aj as l,a3 as d,a4 as r,a7 as s,a5 as a,ak as v,a8 as o,ab as C,a6 as w,a9 as y,aa as L,al as D,ac as F,ad as I,ae as N,af as T,ag as U,am as O,ah as S}from"./index-Dg2vgB2l.js";import{I as V}from"./BaseInput-Cd3_G2g4.js";import{_ as $}from"./BaseButton-CHEyiMBN.js";import{L as B}from"./BaseLabel-BCk9BuOC.js";/* empty css                                                                  */const q={},A={id:"app"};function M(t,u){const i=l("vue-particles");return r(),d("div",A,[s(i,{id:"tsparticles",url:"http://foo.bar/particles.json"}),s(i,{id:"tsparticles",options:{background:{color:{value:"#0d47a1"}},fpsLimit:120,interactivity:{events:{onClick:{enable:!0,mode:"push"},onHover:{enable:!0,mode:"repulse"}},modes:{bubble:{distance:400,duration:2,opacity:.8,size:40},push:{quantity:8},repulse:{distance:200,duration:.4}}},particles:{color:{value:"#ffffff"},links:{blink:!0,color:"#ffffff",distance:150,enable:!0,opacity:.5,width:1},move:{direction:"none",enable:!0,outModes:"bounce",random:!1,speed:6,straight:!1},number:{density:{enable:!0},value:80},opacity:{value:.5},shape:{type:"circle"},size:{value:{min:1,max:5}}},detectRetina:!0}})])}const R=j(q,[["render",M]]),z={class:"login-content"},E={class:"mb-3"},G={key:0,class:"text-danger mt-1"},H={class:"mb-3"},J={key:0,class:"text-danger mt-1"},K={class:"d-flex justify-content-between align-items-center mb-3"},P={class:"text-center mb-3"},Q={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},W={__name:"form",props:{formData:Object,error:Object,isLoading:Boolean,readonly:{type:Boolean,default:!1},hideSubmit:{type:Boolean,default:!1},onSubmit:Function},emits:["submit"],setup(t,{emit:u}){const i=t,f=u,b=()=>{f("submit",i.formData)};return(k,e)=>{const p=l("Logo"),g=l("router-link"),_=l("b-card"),n=l("b-col"),c=l("b-row");return r(),d(D,null,[e[0]||(v(-1,!0),(e[0]=s(R)).cacheIndex=0,v(1),e[0]),a("section",z,[s(c,{class:"m-0 align-items-center justify-content-center bg-white-200 min-vh-100"},{default:o(()=>[s(n,{cols:"12",md:"8",lg:"6",xl:"4",class:"px-3",style:{width:"450px"}},{default:o(()=>[s(_,{class:"shadow-sm p-4 text-center mt-3","body-class":"p-0"},{default:o(()=>{var m,x;return[s(g,{to:{name:"iam/auth/login"},class:"navbar-brand d-flex align-items-center justify-content-center mb-3"},{default:o(()=>[e[1]||(v(-1,!0),(e[1]=s(p)).cacheIndex=1,v(1),e[1])]),_:1}),e[8]||(e[8]=a("p",{class:"mb-4"},"Login to stay connected.",-1)),a("form",{onSubmit:C(b,["prevent"]),class:"text-start"},[a("div",E,[s(B,{class:"form-label",labelFor:"username"},{default:o(()=>e[4]||(e[4]=[y("Username")])),_:1}),s(V,{id:"username",type:"text",modelValue:t.formData.username,"onUpdate:modelValue":e[2]||(e[2]=h=>t.formData.username=h),disabled:t.readonly,class:"form-control"},null,8,["modelValue","disabled"]),(m=t.error)!=null&&m.username?(r(),d("p",G,L(t.error.username),1)):w("",!0)]),a("div",H,[s(B,{class:"form-label",labelFor:"password"},{default:o(()=>e[5]||(e[5]=[y("Password")])),_:1}),s(V,{id:"password",type:"password",modelValue:t.formData.password,"onUpdate:modelValue":e[3]||(e[3]=h=>t.formData.password=h),disabled:t.readonly,class:"form-control"},null,8,["modelValue","disabled"]),(x=t.error)!=null&&x.password?(r(),d("p",J,L(t.error.password),1)):w("",!0)]),a("div",K,[e[7]||(e[7]=a("div",{class:"form-check"},[a("input",{type:"checkbox",class:"form-check-input",id:"customCheck1"}),a("label",{class:"form-check-label",for:"customCheck1"},"Remember Me")],-1)),s(g,{to:{name:"iam/resetpasswordrequest/index"}},{default:o(()=>e[6]||(e[6]=[y("Forgot Password?")])),_:1})]),a("div",P,[s($,{type:"submit",customClass:"btn btn-primary w-100",disabled:t.isLoading},{default:o(()=>[t.isLoading?(r(),d("span",Q)):(r(),d(D,{key:1},[y(" LOGIN ")],64))]),_:1},8,["disabled"])])],32)]}),_:1})]),_:1})]),_:1})])],64)}}},X="/v1/iam/auth/login",ae={__name:"index",setup(t){const u=F(),i=I(),f=N(),{data:b,request:k,isLoading:e,error:p}=T(X,{method:"POST"}),g=U({username:"",password:""}),_=async n=>{if(await k(n),p.value)return;const{access_token:c,userData:m}=b.value.dataPayload.data;c&&f.setToken(c,n==null?void 0:n.username),m&&f.setUserData(m),i.show(b.value),setTimeout(()=>{u.push({name:"dashboard"})},2e3)};return(n,c)=>(r(),O(W,{formData:g.value,error:S(p),isLoading:S(e),onSubmit:_},null,8,["formData","error","isLoading"]))}};export{ae as default};
