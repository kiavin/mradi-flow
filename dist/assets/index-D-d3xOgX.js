import{ai as g,am as x,a3 as i,a4 as r,a5 as t,an as k,a7 as a,a8 as l,ao as B,ab as S,a6 as p,a9 as w,aa as F,ak as D,ap as L,ac as V,af as A,ag as C,al as N,ah as v}from"./index-C9QpY-AJ.js";import{_ as P}from"./01-DKLWw5O6.js";import{I as q}from"./BaseInput-DVImrUAd.js";import{_ as j}from"./BaseButton-60wcncwt.js";import{L as E}from"./BaseLabel-C_eup7Xm.js";/* empty css                                                                  */const I={class:"login-content"},O={class:"row m-0 align-items-center bg-white vh-100"},T={class:"col-md-6 p-0"},U={class:"card card-transparent auth-card shadow-none d-flex justify-content-center mb-0"},$={class:"card-body"},R={class:"d-flex flex-row align-items-center mb-4 py-3"},z={class:"me-auto"},G={class:"position-absolute start-50 translate-middle-x"},M={class:"ms-auto",style:{visibility:"hidden"}},X={class:"mb-4 form-group"},Y={key:0,class:"text-danger"},H={key:0,class:"text-center mt-3"},J={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},K={__name:"form",props:{formData:Object,error:Object,isLoading:Boolean,readonly:{type:Boolean,default:!1},hideSubmit:{type:Boolean,default:!1},onSubmit:Function},emits:["submit","update"],setup(s,{emit:d}){const m=s,c=d,u=()=>{c("submit",m.formData)};return(f,e)=>{var h;const n=g("font-awesome-icon"),o=g("router-link"),b=g("Logo"),y=x("tooltip");return r(),i("section",I,[t("div",O,[e[5]||(e[5]=t("div",{class:"col-md-6 d-md-block d-none bg-primary p-0 vh-100 overflow-hidden"},[t("img",{src:P,class:"img-fluid gradient-main animated-scaleX",alt:"images",loading:"lazy"})],-1)),t("div",T,[t("div",U,[t("div",$,[t("div",R,[t("div",z,[a(o,{to:{name:"iam/auth/login"},class:"navbar-brand d-flex align-items-center mb-3"},{default:l(()=>[B(a(n,{icon:["fas","arrow-left"],class:"text-dark fw-bold fs-4"},null,512),[[y,"Go back to login","bottom"]])]),_:1})]),t("div",G,[a(o,{to:{name:"iam/auth/login"},class:"navbar-brand d-flex align-items-center mb-3"},{default:l(()=>[a(b)]),_:1})]),t("div",M,[a(n,{icon:["fas","arrow-left"]})])]),e[2]||(e[2]=t("h2",{class:"mb-3"},"Reset Password",-1)),e[3]||(e[3]=t("p",{class:"mb-4"}," Enter your email address and we'll send you an email with instructions to reset your password. ",-1)),t("form",{onSubmit:S(u,["prevent"]),class:"row g-3"},[t("div",X,[a(E,{labelFor:"username"},{default:l(()=>e[1]||(e[1]=[w(" Username or Email Address ")])),_:1}),a(q,{id:"username",type:"text",modelValue:s.formData.username,"onUpdate:modelValue":e[0]||(e[0]=_=>s.formData.username=_),disabled:s.readonly},null,8,["modelValue","disabled"]),(h=s.error)!=null&&h.username?(r(),i("p",Y,F(s.error.username),1)):p("",!0)]),s.hideSubmit?p("",!0):(r(),i("div",H,[a(j,{type:"submit",customClass:"btn btn-primary d-inline-block",disabled:s.isLoading},{default:l(()=>[s.isLoading?(r(),i("span",J)):(r(),i(D,{key:1},[w("Send password reset link ")],64))]),_:1},8,["disabled"])]))],32)])]),e[4]||(e[4]=k('<div class="sign-bg sign-bg-right"><svg width="280" height="230" viewBox="0 0 431 398" fill="none" xmlns="http://www.w3.org/2000/svg"><g opacity="0.05"><rect x="-157.085" y="193.773" width="543" height="77.5714" rx="38.7857" transform="rotate(-45 -157.085 193.773)" fill="#3B8AFF"></rect><rect x="7.46875" y="358.327" width="543" height="77.5714" rx="38.7857" transform="rotate(-45 7.46875 358.327)" fill="#3B8AFF"></rect><rect x="61.9355" y="138.545" width="310.286" height="77.5714" rx="38.7857" transform="rotate(45 61.9355 138.545)" fill="#3B8AFF"></rect><rect x="62.3154" y="-190.173" width="543" height="77.5714" rx="38.7857" transform="rotate(45 62.3154 -190.173)" fill="#3B8AFF"></rect></g></svg></div>',1))])])])}}},Q="/v1/iam/auth/request-password-reset",oe={__name:"index",setup(s){const{proxy:d}=L(),m=V(),{request:c,isLoading:u,error:f}=A(Q,{method:"POST"}),e=C({}),n=async o=>{await c(o),!f.value&&(d.$showAlert({title:"Success",icon:"success",text:o.value.alertifyPayload.message??"Your Password reset request was successfully, check your email to set a new password",showConfirmButton:!1,showCancelButton:!1,draggable:!0,timer:2e3,timerProgressBar:!0}),setTimeout(()=>{m.push({name:"iam/reset-password-request"})},2e3))};return(o,b)=>(r(),N(K,{formData:e.value,error:v(f),isLoading:v(u),onSubmit:n},null,8,["formData","error","isLoading"]))}};export{oe as default};
