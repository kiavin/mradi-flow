import{aq as v,ac as h,ar as _,af as u,ag as c,as as g,a3 as B,a4 as y,a5 as P,a7 as w,ah as x}from"./index-CTt-D8ZI.js";import{_ as D}from"./form-QW33i_3k.js";import"./BaseInput-BF6QVCRf.js";/* empty css                                                                  */import"./BaseButton-Ci7rrm8T.js";import"./BaseLabel-mkDNREAv.js";const U={class:"card p-3"},A={__name:"update",setup(b){const{proxy:l}=v(),m=h(),t=`/v1/iam/permissions/${_().params.id}`,{data:s,isLoading:d}=u(t,{method:"GET"}),r=c({}),o=c({});g(s,()=>{s.value&&(r.value=s.value.dataPayload.data||{})});const p=async i=>{var n;const{data:a,request:f,error:e}=u(t,{method:"PUT"});await f(i),e.value&&(console.log("Error",e.value),o.value=e.value),!e.value&&(l.$showAlert({title:"Success",icon:"success",text:((n=a.value)==null?void 0:n.alertifyPayload.message)??"Permissions Updated successfully",showConfirmButton:!1,showCancelButton:!1,draggable:!0,timer:2e3,timerProgressBar:!0}),setTimeout(()=>{m.push({name:"iam/permissions"})},2e3))};return(i,a)=>(y(),B("div",U,[a[0]||(a[0]=P("h1",{class:"h4 mt-2"},"Update Permission",-1)),w(D,{formData:r.value,error:o.value,isLoading:x(d),onSubmit:p},null,8,["formData","error","isLoading"])]))}};export{A as default};
