import{useRouter as j}from"./vue-router-Ds9KUoJm.js";import{r as C,aj as i,a as d,e as m,O as o,D as r,i as s,ao as D,p as I,j as S,M as w,x as _,F as A,k as N,C as L}from"./@vue-D5jJVPgi.js";import{I as V}from"./BaseInput-LcRbEXUh.js";import{_ as O}from"./BaseButton-WTmgFy-8.js";import{L as B}from"./BaseLabel-DjegzUZ8.js";import{u as T,a as U,b as E}from"./index-DKlg7ZIG.js";/* empty css                                                                  *//* empty css                                                                  */import"./pinia-BWRdMQcg.js";import"./bootstrap-r_TW8pGT.js";import"./@popperjs-BEKk9TLb.js";import"./bootstrap-vue-next-CI7J1iGq.js";import"./izitoast-CqdWWGAA.js";import"./sweetalert2-89IKscqO.js";import"./@fortawesome-BMRTUbaC.js";import"./jspdf-BHjgPkY0.js";import"./@babel-BgpAVVkQ.js";import"./fflate-DE92GPtl.js";import"./@vueuse-BFKO5FPz.js";import"./xlsx-VQGdcWwX.js";import"./jspdf-autotable-DwCSpOYb.js";import"./@tsparticles-RHRfPQQI.js";import"./pinia-plugin-persistedstate-BuM6D3kL.js";import"./destr-BPvN1X9m.js";import"./deep-pick-omit-CegYQlcN.js";import"./lodash-CW-aI5JM.js";import"./crypto-js-C9xuVu9R.js";import"./axios-xsH4HHeE.js";import"./qs-Dop67Io4.js";import"./side-channel-DfNisRws.js";import"./es-errors-CxTyLFAO.js";import"./object-inspect-CwG9orBb.js";import"./side-channel-list-CVgrowBt.js";import"./side-channel-map-Czb7NFry.js";import"./get-intrinsic-BpLglCTt.js";import"./es-object-atoms-BR76m4z7.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-Cd0SCNDH.js";import"./dunder-proto-DSwuxXkl.js";import"./call-bind-apply-helpers-VtLnLD2e.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bound-BuGV4nFB.js";import"./side-channel-weakmap-DmcBNuf_.js";import"./smooth-scrollbar-CSiRJ_Pw.js";import"./core-js-BA3D9nVJ.js";import"./@vueform-b-21xuRD.js";import"./vue3-circle-progress-DRe7pzrA.js";import"./vue-Aiaqh0QQ.js";import"./vue3-apexcharts-CSHbnzTQ.js";import"./apexcharts-AYwITVQt.js";const M={class:"login-content"},$={class:"mb-3"},q={key:0,class:"text-danger mt-1"},R={class:"mb-3 position-relative"},z={key:0,class:"text-danger mt-1"},G={class:"d-flex justify-content-between align-items-center mb-3"},H={class:"text-center mb-3"},J={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},K={__name:"form",props:{formData:Object,error:Object,isLoading:Boolean,readonly:{type:Boolean,default:!1},hideSubmit:{type:Boolean,default:!1},onSubmit:Function},emits:["submit"],setup(e,{emit:g}){const y=e,a=C(!1),p=g,x=()=>{p("submit",y.formData)};return(u,t)=>{const k=i("Logo"),c=i("router-link"),n=i("FontAwesomeIcon"),l=i("b-card"),f=i("b-col"),F=i("b-row");return m(),d("section",M,[o(F,{class:"m-0 align-items-center justify-content-center bg-white-200 min-vh-100 login-page"},{default:r(()=>[o(f,{cols:"12",md:"8",lg:"6",xl:"4",class:"px-3",style:{width:"450px"}},{default:r(()=>[o(l,{class:"shadow-sm p-4 text-center mt-3","body-class":"p-0"},{default:r(()=>{var v,h;return[o(c,{to:{name:"iam/auth/login"},class:"navbar-brand d-flex align-items-center justify-content-center mb-3"},{default:r(()=>[t[0]||(D(-1,!0),(t[0]=o(k)).cacheIndex=0,D(1),t[0])]),_:1}),t[8]||(t[8]=s("p",{class:"mb-4"},"Login to stay connected.",-1)),s("form",{onSubmit:I(x,["prevent"]),class:"text-start"},[s("div",$,[o(B,{class:"form-label",labelFor:"username"},{default:r(()=>t[4]||(t[4]=[w("Username")])),_:1}),o(V,{id:"username",type:"text",modelValue:e.formData.username,"onUpdate:modelValue":t[1]||(t[1]=b=>e.formData.username=b),disabled:e.readonly,class:"form-control"},null,8,["modelValue","disabled"]),(v=e.error)!=null&&v.username?(m(),d("p",q,_(e.error.username),1)):S("",!0)]),s("div",R,[o(B,{class:"form-label",labelFor:"password"},{default:r(()=>t[5]||(t[5]=[w("Password")])),_:1}),o(V,{id:"password",type:a.value?"text":"password",modelValue:e.formData.password,"onUpdate:modelValue":t[2]||(t[2]=b=>e.formData.password=b),disabled:e.readonly,class:"form-control pe-5"},null,8,["type","modelValue","disabled"]),o(n,{icon:a.value?u.faEyeSlash:u.faEye,class:"position-absolute top-50 end-0 translate-middle-y me-3 text-muted cursor-pointer",style:{"z-index":"10"},onClick:t[3]||(t[3]=b=>a.value=!a.value)},null,8,["icon"]),(h=e.error)!=null&&h.password?(m(),d("p",z,_(e.error.password),1)):S("",!0)]),s("div",G,[t[7]||(t[7]=s("div",{class:"form-check"},[s("input",{type:"checkbox",class:"form-check-input",id:"customCheck1"}),s("label",{class:"form-check-label",for:"customCheck1"},"Remember Me")],-1)),o(c,{to:{name:"iam/resetpasswordrequest/index"}},{default:r(()=>t[6]||(t[6]=[w("Forgot Password?")])),_:1})]),s("div",H,[o(O,{type:"submit",customClass:"btn btn-primary w-100",disabled:e.isLoading},{default:r(()=>[e.isLoading?(m(),d("span",J)):(m(),d(A,{key:1},[w(" LOGIN ")],64))]),_:1},8,["disabled"])])],32)]}),_:1})]),_:1})]),_:1})])}}},P="/v1/iam/auth/login",Qt={__name:"index",setup(e){const g=j(),y=T(),a=U(),{data:p,request:x,isLoading:u,error:t}=E(P,{method:"POST"}),k=C({username:"",password:""}),c=async n=>{if(await x(n),t.value)return;const{access_token:l,userData:f}=p.value.dataPayload.data;l&&a.setToken(l,n==null?void 0:n.username),f&&a.setUserData(f),y.show(p.value),setTimeout(()=>{g.push({name:"dashboard"})},2e3)};return(n,l)=>(m(),N(K,{formData:k.value,error:L(t),isLoading:L(u),onSubmit:c},null,8,["formData","error","isLoading"]))}};export{Qt as default};
