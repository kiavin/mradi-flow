import{useRouter as L}from"./vue-router-Ds9KUoJm.js";import{a,e as s,i as w,j as u,O as e,D as p,M as f,x as c,p as B,r as x,C as k}from"./@vue-D5jJVPgi.js";import{I as g}from"./BaseInput-LcRbEXUh.js";import{_ as C}from"./BaseButton-WTmgFy-8.js";import{L as v}from"./BaseLabel-DjegzUZ8.js";import{u as U,a as F,b as T}from"./index-DKlg7ZIG.js";/* empty css                                                                  *//* empty css                                                                  */import"./pinia-BWRdMQcg.js";import"./bootstrap-r_TW8pGT.js";import"./@popperjs-BEKk9TLb.js";import"./bootstrap-vue-next-CI7J1iGq.js";import"./izitoast-CqdWWGAA.js";import"./sweetalert2-89IKscqO.js";import"./@fortawesome-BMRTUbaC.js";import"./jspdf-BHjgPkY0.js";import"./@babel-BgpAVVkQ.js";import"./fflate-DE92GPtl.js";import"./@vueuse-BFKO5FPz.js";import"./xlsx-VQGdcWwX.js";import"./jspdf-autotable-DwCSpOYb.js";import"./@tsparticles-RHRfPQQI.js";import"./pinia-plugin-persistedstate-BuM6D3kL.js";import"./destr-BPvN1X9m.js";import"./deep-pick-omit-CegYQlcN.js";import"./lodash-CW-aI5JM.js";import"./crypto-js-C9xuVu9R.js";import"./axios-xsH4HHeE.js";import"./qs-Dop67Io4.js";import"./side-channel-DfNisRws.js";import"./es-errors-CxTyLFAO.js";import"./object-inspect-CwG9orBb.js";import"./side-channel-list-CVgrowBt.js";import"./side-channel-map-Czb7NFry.js";import"./get-intrinsic-BpLglCTt.js";import"./es-object-atoms-BR76m4z7.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-Cd0SCNDH.js";import"./dunder-proto-DSwuxXkl.js";import"./call-bind-apply-helpers-VtLnLD2e.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bound-BuGV4nFB.js";import"./side-channel-weakmap-DmcBNuf_.js";import"./smooth-scrollbar-CSiRJ_Pw.js";import"./core-js-BA3D9nVJ.js";import"./@vueform-b-21xuRD.js";import"./vue3-circle-progress-DRe7pzrA.js";import"./vue-Aiaqh0QQ.js";import"./vue3-apexcharts-CSHbnzTQ.js";import"./apexcharts-AYwITVQt.js";const j={class:"mb-2 form-group"},A={key:0,class:"text-danger"},O={class:"mb-2 form-group"},$={key:0,class:"text-danger"},I={class:"mb-2 form-group"},M={key:0,class:"text-danger"},R={key:0,class:"text-center mt-3"},q={__name:"form",props:{formData:Object,error:Object,isLoading:Boolean,readonly:{type:Boolean,default:!1},hideSubmit:{type:Boolean,default:!1},onSubmit:Function},emits:["submit","update"],setup(t,{emit:b}){const P=t,y=b,d=()=>{y("submit",P.formData)};return(S,o)=>{var i,n,l;return s(),a("form",{onSubmit:B(d,["prevent"]),class:"row g-3"},[w("div",j,[e(v,{labelFor:"currentPassword"},{default:p(()=>o[3]||(o[3]=[f(" Current Password ")])),_:1}),e(g,{id:"currentPassword",type:"password",modelValue:t.formData.currentPassword,"onUpdate:modelValue":o[0]||(o[0]=r=>t.formData.currentPassword=r),disabled:t.readonly},null,8,["modelValue","disabled"]),(i=t.error)!=null&&i.currentPassword?(s(),a("p",A,c(t.error.currentPassword),1)):u("",!0)]),w("div",O,[e(v,{labelFor:"newPassword"},{default:p(()=>o[4]||(o[4]=[f(" New Password ")])),_:1}),e(g,{id:"newPassword",type:"password",modelValue:t.formData.newPassword,"onUpdate:modelValue":o[1]||(o[1]=r=>t.formData.newPassword=r),disabled:t.readonly},null,8,["modelValue","disabled"]),(n=t.error)!=null&&n.newPassword?(s(),a("p",$,c(t.error.newPassword),1)):u("",!0)]),w("div",I,[e(v,{labelFor:"confirmNewPassword"},{default:p(()=>o[5]||(o[5]=[f(" Confirm New Password ")])),_:1}),e(g,{id:"confirmNewPassword",type:"password",modelValue:t.formData.confirmNewPassword,"onUpdate:modelValue":o[2]||(o[2]=r=>t.formData.confirmNewPassword=r),disabled:t.readonly},null,8,["modelValue","disabled"]),(l=t.error)!=null&&l.confirmNewPassword?(s(),a("p",M,c(t.error.confirmNewPassword),1)):u("",!0)]),t.hideSubmit?u("",!0):(s(),a("div",R,[e(C,{type:"submit",customClass:"btn btn-success d-inline-block",disabled:t.isLoading},{default:p(()=>[f(c(t.isLoading?"Submitting...":"Save"),1)]),_:1},8,["disabled"])]))],32)}}},E={class:"card p-3"},z="/v1/iam/auth/change-password",Gt={__name:"create",setup(t){const b=L(),P=U(),y=F(),{data:d,request:S,isLoading:o,error:i}=T(z,{method:"PUT"}),n=x({}),l=async r=>{var D,V,N,h;const m=x("");await S(r),!i.value&&(m.value=(N=(V=(D=d.value)==null?void 0:D.alertifyPayload)==null?void 0:V.type)==null?void 0:N.route,y.removeToken(),P.show({message:(h=d.value)==null?void 0:h.alertifyPayload.type.message,theme:"success"}),setTimeout(()=>{b.push({name:m.value})},2e3))};return(r,m)=>(s(),a("div",E,[m[0]||(m[0]=w("h1",{class:"h4 mt-2"},"Update Password",-1)),e(q,{formData:n.value,error:k(i),isLoading:k(o),onSubmit:l},null,8,["formData","error","isLoading"])]))}};export{Gt as default};
