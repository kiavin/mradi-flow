import{useRouter as C}from"./vue-router-Ds9KUoJm.js";import{r as j,aj as n,a as l,e as i,O as o,D as s,i as r,ao as _,p as F,j as D,M as f,x as L,F as N,k as O,C as S}from"./@vue-D5jJVPgi.js";import{I as V}from"./BaseInput-DScbu7ZB.js";import{_ as T}from"./BaseButton-WTmgFy-8.js";import{L as B}from"./BaseLabel-CWbc88nK.js";import{u as U,a as I,b as A}from"./index-B8O5Qf7z.js";/* empty css                                                                  *//* empty css                                                                  */import"./pinia-BWRdMQcg.js";import"./bootstrap-r_TW8pGT.js";import"./@popperjs-BEKk9TLb.js";import"./bootstrap-vue-next-CI7J1iGq.js";import"./izitoast-CqdWWGAA.js";import"./sweetalert2-89IKscqO.js";import"./@fortawesome-BMRTUbaC.js";import"./jspdf-BHjgPkY0.js";import"./@babel-BgpAVVkQ.js";import"./fflate-DE92GPtl.js";import"./@vueuse-BFKO5FPz.js";import"./xlsx-VQGdcWwX.js";import"./jspdf-autotable-DwCSpOYb.js";import"./@tsparticles-RHRfPQQI.js";import"./pinia-plugin-persistedstate-BuM6D3kL.js";import"./destr-BPvN1X9m.js";import"./deep-pick-omit-CegYQlcN.js";import"./lodash-CW-aI5JM.js";import"./crypto-js-C9xuVu9R.js";import"./axios-xsH4HHeE.js";import"./qs-Dop67Io4.js";import"./side-channel-DfNisRws.js";import"./es-errors-CxTyLFAO.js";import"./object-inspect-CwG9orBb.js";import"./side-channel-list-CVgrowBt.js";import"./side-channel-map-Czb7NFry.js";import"./get-intrinsic-BpLglCTt.js";import"./es-object-atoms-BR76m4z7.js";import"./math-intrinsics-DP1tGiab.js";import"./gopd-C1lCZ5Qs.js";import"./es-define-property-D_7cP-M3.js";import"./has-symbols-BaUvM3gb.js";import"./get-proto-Cd0SCNDH.js";import"./dunder-proto-DSwuxXkl.js";import"./call-bind-apply-helpers-VtLnLD2e.js";import"./function-bind-CHqF18-c.js";import"./hasown-DwiY0sux.js";import"./call-bound-BuGV4nFB.js";import"./side-channel-weakmap-DmcBNuf_.js";import"./smooth-scrollbar-CSiRJ_Pw.js";import"./core-js-BA3D9nVJ.js";import"./@vueform-b-21xuRD.js";import"./vue3-circle-progress-DRe7pzrA.js";import"./vue-Aiaqh0QQ.js";import"./vue3-apexcharts-CSHbnzTQ.js";import"./apexcharts-AYwITVQt.js";const M={class:"login-content"},q={class:"mb-3"},R={key:0,class:"text-danger mt-1"},$={class:"mb-3 position-relative"},E={key:0,class:"text-danger mt-1"},G={class:"d-flex justify-content-between align-items-center mb-3"},z={class:"text-center mb-3"},H={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"},J={__name:"form",props:{formData:Object,error:Object,isLoading:Boolean,readonly:{type:Boolean,default:!1},hideSubmit:{type:Boolean,default:!1},onSubmit:Function},emits:["submit"],setup(e,{emit:b}){const g=e,d=j(!1),p=b,w=()=>{p("submit",g.formData)};return(y,t)=>{const x=n("Logo"),u=n("router-link"),a=n("b-card"),m=n("b-col"),c=n("b-row");return i(),l("section",M,[o(c,{class:"m-0 align-items-center justify-content-center bg-white-200 min-vh-100 login-page"},{default:s(()=>[o(m,{cols:"12",md:"8",lg:"6",xl:"4",class:"px-3",style:{width:"450px"}},{default:s(()=>[o(a,{class:"shadow-sm p-4 text-center mt-3","body-class":"p-0"},{default:s(()=>{var h,v;return[o(u,{to:{name:"iam/auth/login"},class:"navbar-brand d-flex align-items-center justify-content-center mb-3"},{default:s(()=>[t[0]||(_(-1,!0),(t[0]=o(x)).cacheIndex=0,_(1),t[0])]),_:1}),t[7]||(t[7]=r("p",{class:"mb-4"},"Login to stay connected.",-1)),r("form",{onSubmit:F(w,["prevent"]),class:"text-start"},[r("div",q,[o(B,{class:"form-label",labelFor:"username"},{default:s(()=>t[3]||(t[3]=[f("Username")])),_:1}),o(V,{id:"username",type:"text",modelValue:e.formData.username,"onUpdate:modelValue":t[1]||(t[1]=k=>e.formData.username=k),disabled:e.readonly,class:"form-control"},null,8,["modelValue","disabled"]),(h=e.error)!=null&&h.username?(i(),l("p",R,L(e.error.username),1)):D("",!0)]),r("div",$,[o(B,{class:"form-label",labelFor:"password"},{default:s(()=>t[4]||(t[4]=[f("Password")])),_:1}),o(V,{id:"password",type:d.value?"text":"password",modelValue:e.formData.password,"onUpdate:modelValue":t[2]||(t[2]=k=>e.formData.password=k),disabled:e.readonly,class:"form-control pe-5"},null,8,["type","modelValue","disabled"]),(v=e.error)!=null&&v.password?(i(),l("p",E,L(e.error.password),1)):D("",!0)]),r("div",G,[t[6]||(t[6]=r("div",{class:"form-check"},[r("input",{type:"checkbox",class:"form-check-input",id:"customCheck1"}),r("label",{class:"form-check-label",for:"customCheck1"},"Remember Me")],-1)),o(u,{to:{name:"iam/resetpasswordrequest/index"}},{default:s(()=>t[5]||(t[5]=[f("Forgot Password?")])),_:1})]),r("div",z,[o(T,{type:"submit",customClass:"btn btn-primary w-100",disabled:e.isLoading},{default:s(()=>[e.isLoading?(i(),l("span",H)):(i(),l(N,{key:1},[f(" LOGIN ")],64))]),_:1},8,["disabled"])])],32)]}),_:1})]),_:1})]),_:1})])}}},K="/v1/iam/auth/login",Pt={__name:"index",setup(e){const b=C(),g=U(),d=I(),{data:p,request:w,isLoading:y,error:t}=A(K,{method:"POST"}),x=j({username:"",password:""}),u=async a=>{if(await w(a),t.value)return;const{access_token:m,userData:c}=p.value.dataPayload.data;m&&d.setToken(m,a==null?void 0:a.username),c&&d.setUserData(c),g.show(p.value),setTimeout(()=>{b.push({name:"dashboard"})},2e3)};return(a,m)=>(i(),O(J,{formData:x.value,error:S(t),isLoading:S(y),onSubmit:u},null,8,["formData","error","isLoading"]))}};export{Pt as default};
